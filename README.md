# Fbrin Health - Decentralized Healthcare Data Storage Protocol on Internet Computer

## Overview

Fibrin Health is a decentralized protocol for securely storing and managing healthcare data using the Internet Computer (IC). This project consists of two main components:

  1. API Gateway (Rust): A bridge between external systems (e.g., healthcare providers' EHR systems) and the backend canisters.
  2. Fibrin Health Backend Canister: Handles the secure storage, management, and permissions for patient healthcare data.



## API Gateway (Rust)

The API Gateway is responsible for processing HTTP requests from external systems and forwarding them to the appropriate backend canister. It acts as the interface for healthcare providers and ensures secure communication between external systems and Fibrin Healthâ€™s decentralized infrastructure.

### Key Features:

    HTTP Outcalls: Communicates with local Electronic Health Records (EHRs) via API.
    Data Validation: Ensures that all data being transferred to the backend canister is valid and secure.
    Authentication: Authenticates requests from healthcare providers before forwarding them to the backend.

### Usage:

    Set up and configure the API Gateway by providing endpoint URLs for integration with existing healthcare systems.
    Ensure proper authentication tokens are included in requests to ensure secure communication.


## Fibrin Health Backend Canister

The backend canister is the core of the Fibrin Health system. It stores patient medical records securely in IC canisters, managing data access, permissions, and encryption.

### Key Features:

    Decentralized Storage: Stores encrypted healthcare data for patients in a secure, decentralized manner.
    Permissions Management: Patients control who can access their data through smart contract-based permissions.
    Data Sync: Automatically syncs with local EHR systems when patients move or visit new healthcare providers.

### Usage:

    Deploy backend canisters for each patient to store and manage their healthcare data.
    Manage access control using smart contracts to authorize healthcare providers.




## Running the Cannister locally

If you want to test your project locally, you can use the following commands:

```bash
# Starts the replica, running in the background
dfx start --background

# Deploys your canisters to the replica and generates your candid interface
dfx deploy
```

Once the job completes, your application will be available at `http://localhost:4943?canisterId={asset_canister_id}`.

If you have made changes to your backend canister, you can generate a new candid interface with

```bash
npm run generate
```

at any time. This is recommended before starting the frontend development server, and will be run automatically any time you run `dfx deploy`.

If you are making frontend changes, you can start a development server with

```bash
npm start
```

Which will start a server at `http://localhost:8080`, proxying API requests to the replica at port 4943.

### Note on frontend environment variables

If you are hosting frontend code somewhere without using DFX, you may need to make one of the following adjustments to ensure your project does not fetch the root key in production:

- set`DFX_NETWORK` to `ic` if you are using Webpack
- use your own preferred method to replace `process.env.DFX_NETWORK` in the autogenerated declarations
  - Setting `canisters -> {asset_canister_id} -> declarations -> env_override to a string` in `dfx.json` will replace `process.env.DFX_NETWORK` with the string in the autogenerated declarations
- Write your own `createActor` constructor
